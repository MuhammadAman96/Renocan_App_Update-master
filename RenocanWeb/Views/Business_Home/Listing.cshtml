@model RenocanWeb.Models.RegistrationCompanyListing
@*@{
        ViewBag.Title = "BusinessListing";
    }*@

<body>
    <div id="businessdb">
        <div class="content">
            <div class="left">
                <div class="profile">
                    <img id="uploadedImage" src="../@Model.Image_Name" />

                    <div class="details">
                        <span class="name">
                            @Model.CompanyName
                        </span>
                        <span class="city">
                            @Model.PostalCode
                        </span>
                        <div class="upload">

                            <i class="fa fa-camera" id="uploadIcon" title="Upload Image"></i>
                            <input type="file" id="imageBrowes" style="display: none;" />

                            <div id="imgPreview" class="thumbnail" style="display:none">
                                <img class="img-responsive" id="targetImg" src="../@Model.Image_Name" />

                                <div class="caption">
                                    <a href="#" onclick="ClearPreview()"><i class="glyphicon glyphicon-trash"></i></a>
                                    <span id="description"></span>
                                </div>
                                <a href="#" class="fa fa-camera" onclick="Uploadimage()">Upload</a>
                            </div>

                            <!--<button type="file" name="image" class="remove"><i class="fa fa-times-circle"></i> Remove Picture</button>-->
                            <span>.jpg .png allowed only max: 2mb</span>
                        </div>
                    </div>
                </div>

                <div class="menu">
                    <ul>
                        <li><a href=""><i class="fa fa-clock-o"></i> @Html.ActionLink("Activity", "Activity", "Business_Home")</a></li>
                        <li class="active"><a href=""><i class="fa fa-list-ul"></i> Company Listing</a></li>
                        <li><a href=""><i class="fa fa-money"></i> Payment Setting</a></li>

                        <li><i class="fa fa-photo"></i>@Html.ActionLink("Galleries", "Media", "Business_Home")</li>

                        <li><i class="fa fa-comments"></i>@Html.ActionLink("Reviews", "Reviews", "Business_Home")</li>

                        <li><i class="fa fa-bar-chart"></i>@Html.ActionLink("Scoreboard", "Scoreboard", "Business_Home")</li>

                        <li><i class="fa fa-briefcase"></i> @Html.ActionLink("toolkit", "toolkit", "Business_Home")</li>


                        <li><i class="fa fa-building"></i>@Html.ActionLink("Company Information", "Company_profile", "Business_Home")</li>

                        <li><i class="fa fa-building"></i>@Html.ActionLink("Change Password", "CompanyChangePassword", "Business_Home")</li>

                        <li><a href='@Url.Action("LogOut","Business_Home")'><i class="fa fa-sign-out"></i> Log Out</a></li>
                    </ul>
                </div>
            </div>
            <div class="right">
                <span class="heading"><i class="fa fa-list-ul"></i> Company Listing</span>
                <div class="listing">
                    <div class="cat">
                        <span>Categories</span>
                        <p>Your Company searches will be found in this Categories</p>
                        <ul>
                            <li>Heating &amp; Air Conditioning <a href="">Edit <i class="fa fa-pencil"></i></a></li>
                            <li>Heating &amp; Air Conditioning <a href="">Edit <i class="fa fa-pencil"></i></a></li>
                            <li>Heating &amp; Air Conditioning <a href="">Edit <i class="fa fa-pencil"></i></a></li>
                            <li>Heating &amp; Air Conditioning <a href="">Edit <i class="fa fa-pencil"></i></a></li>
                            <li><a href="">Add More Categories</a></li>
                        </ul>
                    </div>
                    <div class="service">
                        <span>Service Areas</span>
                        <p>Your Company searches will be found in this areas.</p>
                        <div class="box">
                            <span>Richmond Hill <a href="">Edit <i class="fa fa-pencil"></i></a></span>
                            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d91990.29521126252!2d-79.49834120045207!3d43.90354756109732!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x882b2a4936291733%3A0x5201760ad6b142ed!2sRichmond+Hill%2C+ON%2C+Canada!5e0!3m2!1sen!2s!4v1484997041857" frameborder="0" style="border:0" allowfullscreen></iframe>
                        </div>
                        <div class="box">
                            <span>Richmond Hill <a href="">Edit <i class="fa fa-pencil"></i></a></span>
                            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d91990.29521126252!2d-79.49834120045207!3d43.90354756109732!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x882b2a4936291733%3A0x5201760ad6b142ed!2sRichmond+Hill%2C+ON%2C+Canada!5e0!3m2!1sen!2s!4v1484997041857" frameborder="0" style="border:0" allowfullscreen></iframe>
                        </div>
                        <div class="box">
                            <span>Richmond Hill <a href="">Edit <i class="fa fa-pencil"></i></a></span>
                            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d91990.29521126252!2d-79.49834120045207!3d43.90354756109732!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x882b2a4936291733%3A0x5201760ad6b142ed!2sRichmond+Hill%2C+ON%2C+Canada!5e0!3m2!1sen!2s!4v1484997041857" frameborder="0" style="border:0" allowfullscreen></iframe>
                        </div>
                        <div class="box">
                            <span>Richmond Hill <a href="">Edit <i class="fa fa-pencil"></i></a></span>
                            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d91990.29521126252!2d-79.49834120045207!3d43.90354756109732!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x882b2a4936291733%3A0x5201760ad6b142ed!2sRichmond+Hill%2C+ON%2C+Canada!5e0!3m2!1sen!2s!4v1484997041857" frameborder="0" style="border:0" allowfullscreen></iframe>
                        </div>
                    </div>
                    <div class="meta">
                        <span>Listing Details</span>
                        <form method="post">
                            
                            @Html.AntiForgeryToken()

                            <fieldset>
                                <label for="">Basic Profile Information</label>
                                @Html.TextAreaFor(m => m.Profile_Information, new { cols = "30", rows = "5", placeholder = "", @maxlength = "50" })
                                @Html.ValidationMessageFor(m => m.Profile_Information, "", new { @class = "text-red" })

                            </fieldset>


                            <fieldset>
                                <label for="">Website</label>
                                @Html.TextBoxFor(m => m.Website_Add, new { placeholder = "", @maxlength = "50" })
                                @Html.ValidationMessageFor(m => m.Website_Add, "", new { @class = "text-red" })

                            </fieldset>
                            <hr>
                            <fieldset class="half">
                                <label for="">Products</label>

                                @Html.TextAreaFor(m => m.Products, new { cols = "30", rows = "2", placeholder = "", @maxlength = "50" })
                                @Html.ValidationMessageFor(m => m.Products, "", new { @class = "text-red" })
                            </fieldset>


                            <fieldset class="half">
                                <label for="">Services</label>
                                @Html.TextAreaFor(m => m.Services, new { cols = "30", rows = "2", placeholder = "", @maxlength = "50" })
                                @Html.ValidationMessageFor(m => m.Services, "", new { @class = "text-red" })

                            </fieldset>


                            <fieldset class="half">
                                <label for="">Brands</label>
                                @Html.TextAreaFor(m => m.Brands, new { cols = "30", rows = "2", placeholder = "", @maxlength = "50" })
                                @Html.ValidationMessageFor(m => m.Brands, "", new { @class = "text-red" })
                            </fieldset>


                            <fieldset class="half">
                                <label for="">Specialities</label>
                                @Html.TextAreaFor(m => m.Specialities, new { cols = "30", rows = "2", placeholder = "", @maxlength = "50" })
                                @Html.ValidationMessageFor(m => m.Specialities, "", new { @class = "text-red" })

                            </fieldset>
                            <hr>
                            <fieldset class="half">
                                <label for="">Year Established</label>
                                @Html.TextAreaFor(m => m.Year_Established, new { placeholder = "", @maxlength = "50" })
                                @Html.ValidationMessageFor(m => m.Year_Established, "", new { @class = "text-red" })

                            </fieldset>
                            <fieldset class="half">
                                <label for="">Return Policy (URL)</label>
                                @Html.TextAreaFor(m => m.Return_Policy_URL, new { placeholder = "", @maxlength = "50" })
                                @Html.ValidationMessageFor(m => m.Return_Policy_URL, "", new { @class = "text-red" })

                            </fieldset>
                            <fieldset class="half">
                                <label for="">Payment Method (URL)</label>
                                @Html.TextAreaFor(m => m.Payment_Method_URL, new { placeholder = "", @maxlength = "50" })
                                @Html.ValidationMessageFor(m => m.Payment_Method_URL, "", new { @class = "text-red" })

                            </fieldset>


                            <fieldset class="half">
                                <label for="">Licences (URL)</label>
                                @Html.TextAreaFor(m => m.Licences_URL, new { placeholder = "", @maxlength = "50" })
                                @Html.ValidationMessageFor(m => m.Licences_URL, "", new { @class = "text-red" })

                            </fieldset>


                            <fieldset class="half">
                                <label for="">Insurance (URL)</label>
                                @Html.TextAreaFor(m => m.Insurance_URL, new { placeholder = "", @maxlength = "50" })
                                @Html.ValidationMessageFor(m => m.Insurance_URL, "", new { @class = "text-red" })

                            </fieldset>


                            <fieldset class="half">
                                <label for="">Certificates (URL)</label>
                                @Html.TextAreaFor(m => m.Certificates_URL, new { placeholder = "", @maxlength = "50" })
                                @Html.ValidationMessageFor(m => m.Certificates_URL, "", new { @class = "text-red" })

                            </fieldset>


                            <fieldset class="half">
                                <label for="">Pricing</label>
                                @Html.TextAreaFor(m => m.Pricing, new { placeholder = "", @maxlength = "50" })
                                @Html.ValidationMessageFor(m => m.Pricing, "", new { @class = "text-red" })

                            </fieldset>


                            <fieldset class="half">
                                <label for="">Contract Based</label>
                                @Html.TextAreaFor(m => m.Contract_Based, new { placeholder = "", @maxlength = "50" })
                                @Html.ValidationMessageFor(m => m.Contract_Based, "", new { @class = "text-red" })

                            </fieldset>


                            <fieldset class="half">
                                <label for="">Warranty</label>
                                @Html.TextAreaFor(m => m.Warranty, new { placeholder = "", @maxlength = "50" })
                                @Html.ValidationMessageFor(m => m.Warranty, "", new { @class = "text-red" })

                            </fieldset>


                            <div class="btn">
                                <input type="submit" value="Save Changes">
                                <input type="reset" value="Cancel">
                            </div>
                        </form>
                        

                    </div>

                </div>

            </div>
        </div>
    </div>
</body>
<script>
   


    $(document).ready(function () {

        $("#imageBrowes").change(function () {

            var File = this.files;

            if (File && File[0]) {
                ReadImage(File[0]);
            }

        })

    })


    var ReadImage = function (file) {

        var reader = new FileReader;
        var image = new Image;

        reader.readAsDataURL(file);
        reader.onload = function (_file) {

            image.src = _file.target.result;
            image.onload = function () {

                var height = this.height;
                var width = this.width;
                var type = file.type;
                var size = ~~(file.size / 1024) + "KB";

                $("#targetImg").attr('src', _file.target.result);
                $("#description").text("Size:" + size + ", " + height + "X " + width + ", " + type + "");
                $("#imgPreview").show();

            }

        }

    }

    var ClearPreview = function () {
        $("#imageBrowes").val('');
        $("#description").text('');
        $("#imgPreview").hide();

    }

    var Uploadimage = function () {

        var file = $("#imageBrowes").get(0).files;

        var data = new FormData;
        data.append("ImageFile", file[0]);


        $.ajax({

            type: "Post",
            url: "../Business_Home/ImageUpload",
            data: data,
            contentType: false,
            processData: false,
            success: function (response) {
                ClearPreview();
                var url = '../' + response;

                //$("#uploadedImage").append('<img src=' + url + ' class="img-responsive thumbnail"/>');
                $("#uploadedImage").attr('src', url);


            }

        })


        //
    }
    $("#uploadIcon").click(function () {
        $("input[type='file']").trigger('click');
    });


</script>